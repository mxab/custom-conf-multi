
allprojects {
    apply plugin : MyPlugin

}

project(":common"){

    dependencies{
        myconf project(":foo")
    }
}
project(":client"){

    dependencies{
        myconf project(":common")
    }
}


class MyPlugin implements Plugin<Project> {
    void apply(Project project) {

        project.apply plugin : "base"
        project.configurations {
            myconf
        }
        project.task("myTask")<< {
            println project.name
        }
    }
}



task wrapper(type:Wrapper){
    gradleVersion = "2.0"
}